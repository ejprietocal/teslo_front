import{a as X}from"./chunk-Z2CR5LOZ.js";import{l as J,n as K}from"./chunk-K2AJT5KX.js";import{b as V,c as z,d as H,f as B,g as G,i as U,j as h,k as Y,l as W,m as Z,n as Q}from"./chunk-DHJDUB7F.js";import{d as O,h as j,l as L}from"./chunk-VYGNCVAP.js";import{Bb as E,Fa as T,Ia as N,K as R,La as P,M as d,P as S,Pa as p,R as A,S as a,T as b,U as _,Ua as x,_a as D,aa as M,ca as w,eb as c,fa as F,fb as m,gb as l,ja as v,oa as k,sa as I}from"./chunk-TOBCBKBP.js";var ne="@",re=(()=>{class o{doc;delegate;zone;animationType;moduleImpl;_rendererFactoryPromise=null;scheduler=null;injector=a(M);loadingSchedulerFn=a(ie,{optional:!0});_engine;constructor(t,n,r,i,s){this.doc=t,this.delegate=n,this.zone=r,this.animationType=i,this.moduleImpl=s}ngOnDestroy(){this._engine?.flush()}loadImpl(){let t=()=>this.moduleImpl??import("./chunk-RSMBKC2W.js").then(r=>r),n;return this.loadingSchedulerFn?n=this.loadingSchedulerFn(t):n=t(),n.catch(r=>{throw new R(5300,!1)}).then(({\u0275createEngine:r,\u0275AnimationRendererFactory:i})=>{this._engine=r(this.animationType,this.doc);let s=new i(this.delegate,this._engine,this.zone);return this.delegate=s,s})}createRenderer(t,n){let r=this.delegate.createRenderer(t,n);if(r.\u0275type===0)return r;typeof r.throwOnSyntheticProps=="boolean"&&(r.throwOnSyntheticProps=!1);let i=new y(r);return n?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(s=>{let oe=s.createRenderer(t,n);i.use(oe),this.scheduler??=this.injector.get(w,null,{optional:!0}),this.scheduler?.notify(10)}).catch(s=>{i.use(r)}),i}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}componentReplaced(t){this._engine?.flush(),this.delegate.componentReplaced?.(t)}static \u0275fac=function(n){P()};static \u0275prov=d({token:o,factory:o.\u0275fac})}return o})(),y=class{delegate;replay=[];\u0275type=1;constructor(e){this.delegate=e}use(e){if(this.delegate=e,this.replay!==null){for(let t of this.replay)t(e);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}get destroyNode(){return this.delegate.destroyNode}appendChild(e,t){this.delegate.appendChild(e,t)}insertBefore(e,t,n,r){this.delegate.insertBefore(e,t,n,r)}removeChild(e,t,n){this.delegate.removeChild(e,t,n)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,n,r){this.delegate.setAttribute(e,t,n,r)}removeAttribute(e,t,n){this.delegate.removeAttribute(e,t,n)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,n,r){this.delegate.setStyle(e,t,n,r)}removeStyle(e,t,n){this.delegate.removeStyle(e,t,n)}setProperty(e,t,n){this.shouldReplay(t)&&this.replay.push(r=>r.setProperty(e,t,n)),this.delegate.setProperty(e,t,n)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,n,r){return this.shouldReplay(t)&&this.replay.push(i=>i.listen(e,t,n,r)),this.delegate.listen(e,t,n,r)}shouldReplay(e){return this.replay!==null&&e.startsWith(ne)}},ie=new S("");function q(o="animations"){return I("NgAsyncAnimations"),b([{provide:N,useFactory:(e,t,n)=>new re(e,t,n,o),deps:[O,z,F]},{provide:k,useValue:o==="noop"?"NoopAnimations":"BrowserAnimations"}])}var u=class o{constructor(e){this.router=e;this.initializeRoles()}isAuthenticatedSignal=v(this.hasToken());userRolesSignal=v(this.getRolesFromToken());getToken(){return localStorage.getItem("auth_token")}hasToken(){return!!this.getToken()}getRolesFromToken(){let e=this.getToken();return e?JSON.parse(atob(e.split(".")[1])).roles||[]:[]}setAuthState(e){if(this.isAuthenticatedSignal.set(e),e){let t=this.getRolesFromToken();this.userRolesSignal.set(t),console.log("Roles del usuario asignados autom\xE1ticamente:",t)}else this.userRolesSignal.set([])}autoAssignRolesFromToken(){let e=this.getRolesFromToken();e.length>0&&(this.userRolesSignal.set(e),console.log("Roles del usuario asignados autom\xE1ticamente desde el token:",this.userRolesSignal()))}initializeRoles(){this.hasToken()&&this.autoAssignRolesFromToken()}static \u0275fac=function(t){return new(t||o)(A(h))};static \u0275prov=d({token:o,factory:o.\u0275fac,providedIn:"root"})};var $=(o,e)=>{let t=a(u),n=a(h),r=t.isAuthenticatedSignal(),i=t.userRolesSignal();return r?!0:(n.navigate(["/"]),!1)};var ee=[{path:"",loadComponent:()=>import("./chunk-OV2ILQ73.js").then(o=>o.LoginComponent)},{path:"dashboard",loadComponent:()=>import("./chunk-OXF3YJCA.js").then(o=>o.DashboardComponent),canActivate:[$]},{path:"register",loadComponent:()=>import("./chunk-4VJCOJQW.js").then(o=>o.RegisterComponent)},{path:"retrieve-account",loadComponent:()=>import("./chunk-6626LHO4.js").then(o=>o.RetrieveAccountComponent)},{path:"api/auth/reset-password/:token",loadComponent:()=>import("./chunk-5B4MGPCR.js").then(o=>o.ResetPasswordComponent)},{path:"**",loadComponent:()=>import("./chunk-FYR775XU.js").then(o=>o.NotFoundComponent)}];var te={providers:[_(K),E({eventCoalescing:!0}),Y(ee,W({scrollPositionRestoration:"enabled"})),V(),q(),G(B()),{provide:J,useValue:Z.CLAVE_SITIO_WEB_RECAPTCHA}]};var g=class o{static \u0275fac=function(t){return new(t||o)};static \u0275cmp=p({type:o,selectors:[["app-loader"]],decls:6,vars:0,consts:[[1,"z-100","absolute","top-0","left-0","w-full","h-[100vh]","flex","items-center","justify-center","bg-white/15","backdrop-blur-xs"],[1,"loading-wave"],[1,"loading-bar"]],template:function(t,n){t&1&&(c(0,"div",0)(1,"div",1),l(2,"div",2)(3,"div",2)(4,"div",2)(5,"div",2),m()())},styles:[".loading-wave[_ngcontent-%COMP%]{width:300px;height:100px;display:flex;justify-content:center;align-items:flex-end}.loading-bar[_ngcontent-%COMP%]{width:20px;height:10px;margin:0 5px;background-color:#3498db;border-radius:5px;animation:_ngcontent-%COMP%_loading-wave-animation 1s ease-in-out infinite}.loading-bar[_ngcontent-%COMP%]:nth-child(2){animation-delay:.1s}.loading-bar[_ngcontent-%COMP%]:nth-child(3){animation-delay:.2s}.loading-bar[_ngcontent-%COMP%]:nth-child(4){animation-delay:.3s}@keyframes _ngcontent-%COMP%_loading-wave-animation{0%{height:10px}50%{height:50px}to{height:10px}}"]})};function se(o,e){o&1&&l(0,"app-loader")}var f=class o{loaderService=a(Q);darkModeService=a(X);title="teslo_front";themeChecked=!1;onCheckedChange(e){this.themeChecked=e}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=p({type:o,selectors:[["app-root"]],decls:3,vars:1,consts:[[1,"bg-color-general","w-screen","h-screen"],[4,"ngIf"]],template:function(t,n){t&1&&(c(0,"div",0),x(1,se,1,0,"app-loader",1),l(2,"router-outlet"),m()),t&2&&(T(),D("ngIf",n.loaderService.loader()))},dependencies:[L,j,U,g],encapsulation:2})};H(f,te).catch(o=>console.error(o));
