import{a as ue,c as de,f as fe,j as ve,k as ge,l as be,m as he,o as Ce,p as _e}from"./chunk-SPPYWUOE.js";import{a as Se}from"./chunk-GDQKXNT2.js";import{a as A,b as ce,c as pe,d as f,e as N,f as me}from"./chunk-DAWSGMBR.js";import{a as xe}from"./chunk-L3V7LWUT.js";import{a as we,b as $}from"./chunk-MS4GMOMR.js";import"./chunk-BGKHSOXA.js";import{a as z}from"./chunk-WRBWQDOP.js";import{a as le}from"./chunk-S4Z3L45U.js";import{h as O,j as se,k as j,n as h}from"./chunk-VGTGXULN.js";import{$ as B,Eb as d,Fb as ae,Gb as _,Ib as J,Ja as r,Jb as m,Kb as Q,Mb as x,N as k,Nb as w,S as L,T as p,Ua as u,Za as y,_ as D,aa as ne,cb as q,db as s,eb as ie,hb as re,ib as P,jb as M,kb as F,lb as I,mb as o,na as C,nb as a,ob as l,rb as oe,wb as g,x as E,xb as b}from"./chunk-SNWDAWOK.js";var T=class e{visible=C(!0);floatMenuVisibility=C(!1);open(){this.visible.set(!0)}close(){this.visible.set(!1)}toggle(){this.visible.update(n=>!n),console.log(this.visible())}toggleFloatMenu(){this.floatMenuVisibility.update(n=>!n)}static \u0275fac=function(t){return new(t||e)};static \u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})};var Me=e=>({fadein:e}),V=class e{drawerService=p(T);darkModeService=p(Se);router=p(f);faBars=de;faSun=ve;faMoon=_e;faGrip=be;faXmark=he;faRightFromBracket=ue;faUser=fe;logout(){localStorage.removeItem("auth_token"),this.router.navigate([""])}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=u({type:e,selectors:[["app-top-menu"]],decls:14,vars:4,consts:[["floating",""],[1,"h-fit","w-full","max-w-screen","flex","items-center","bg-color-secondary","p-3","shadow-xl","duration-200"],[1,"flex","justify-between","items-center","w-full","text-md"],[1,"flex","items-center","gap-7"],[1,"cursor-pointer",3,"click"],[1,"fa-solid","fa-bars"],[1,"fa-solid","fa-grip"],[1,"fa-solid",3,"ngClass"],["pTooltip","Gesti\xF3n de cuenta",1,"cursor-pointer","hidden","md:block"],[1,"fa-solid","fa-user"],[1,"floating-menu","dark:bg-slate-900/30","bg-slate-200/40","backdrop-blur-2xl","z-50",3,"ngClass"]],template:function(t,i){if(t&1){let c=oe();o(0,"nav",1)(1,"ul",2)(2,"li",3)(3,"button",4),g("click",function(){return D(c),B(i.drawerService.toggle())}),l(4,"span",5),a()(),o(5,"li",3)(6,"button",4),g("click",function(){return D(c),B(i.drawerService.toggleFloatMenu())}),l(7,"span",6),a(),o(8,"button",4),g("click",function(){return D(c),B(i.darkModeService.toggleDarkMode())}),l(9,"span",7),a(),o(10,"button",8),l(11,"span",9),a()()()(),l(12,"div",10,0)}t&2&&(r(9),s("ngClass",i.darkModeService.darkMode()?"fa-sun":"fa-moon"),r(3),s("ngClass",m(2,Me,i.drawerService.floatMenuVisibility())))},dependencies:[$,h,O],encapsulation:2})};var H=class e{constructor(n,t,i){this.http=n;this.router=t;this.activateLoader=i}environments=xe;datosUser=C(null);checkToken(){this.activateLoader.activateSignal();let n=localStorage.getItem("auth_token");n?this.http.get(this.environments.URL_CHECK_TOKEN,{headers:{Authorization:`Bearer ${n}`}}).subscribe({next:t=>{t.token?(this.datosUser.set(t),localStorage.setItem("auth_token",t.token),this.router.url!=="/dashboard"&&!this.router.url.startsWith("/dashboard")&&this.router.navigate(["/dashboard"])):this.router.navigate(["/"])},complete:()=>{this.activateLoader.deactivateSignal()},error:t=>{console.error("Error en la solicitud de login:",t),this.activateLoader.deactivateSignal(),localStorage.removeItem("auth_token"),this.router.navigate(["/"])}}):(this.router.navigate(["/"]),console.log("no hay token"))}static \u0275fac=function(t){return new(t||e)(L(le),L(f),L(z))};static \u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})};var U=class e{screenHeight=C(window.innerHeight);constructor(){window.addEventListener("resize",this.updateScreenHeight.bind(this))}updateScreenHeight(){this.screenHeight.set(window.innerHeight)}static \u0275fac=function(t){return new(t||e)};static \u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})};var Fe=(e,n)=>({"pl-0 pr-0 opacity-0 md:opacity-100":e,"opacity-100":n}),Ie=(e,n)=>({"md:relative!  w-70":e,"w-0 md:relative md:w-16":n}),ee=e=>({"justify-center":e}),ke=e=>({hidden:e}),Y=e=>({"md:hidden":e}),ye=e=>({"justify-start":e}),Te=()=>["activeSub"],Re=()=>["active"];function Ee(e,n){if(e&1&&(o(0,"li",24),l(1,"span",25),d(2),x(3,"titlecase"),a()),e&2){let t=n.$implicit;s("routerLink",t.link)("routerLinkActive",J(6,Te)),r(),s("ngClass",t.icon),r(),_(" ",w(3,4,t.name)," ")}}function Le(e,n){if(e&1&&(o(0,"div",19)(1,"button",21),d(2),x(3,"titlecase"),l(4,"fa-icon",22),a(),o(5,"ul",23),F(6,Ee,4,7,"li",24,M),a()()),e&2){let t=b(),i=t.$implicit,c=t.$index,v=b(2);r(),s("ngClass",m(7,ye,!v.drawerService.visible())),q("data-collapse-toggle","subsubmenu"+c+"-"+c),r(),_(" ",w(3,5,i.name)," "),r(2),s("icon",v.faChevronDown),r(),s("id","subsubmenu"+c+"-"+c),r(),I(i.subMenus)}}function De(e,n){if(e&1&&(o(0,"li",20),d(1),x(2,"titlecase"),a()),e&2){let t=b().$implicit;s("routerLink",t.link)("routerLinkActive",J(5,Re)),r(),_(" ",w(2,3,t.name)," ")}}function Be(e,n){if(e&1&&y(0,Le,8,9,"div",19)(1,De,3,6,"li",20),e&2){let t=n.$implicit;P(t.subMenus?0:1)}}function Pe(e,n){if(e&1&&(o(0,"div",7)(1,"button",15),l(2,"span"),o(3,"span",16),d(4),a(),l(5,"fa-icon",17),a(),o(6,"ul",18),F(7,Be,2,1,null,null,M),a()()),e&2){let t=n.$implicit,i=n.$index,c=b();r(),s("ngClass",m(11,ye,!c.drawerService.visible())),q("data-collapse-toggle","submenu"+i),r(),re("",t.icon," pe-2 pt-2 pb-2 min-w-10"),r(),s("ngClass",m(13,Y,!c.drawerService.visible())),r(),ae(t.name),r(),s("icon",c.faChevronDown)("ngClass",m(15,Y,!c.drawerService.visible())),r(),s("id","submenu"+i)("ngClass",m(17,ke,!c.drawerService.visible())),r(),I(t.subMenus)}}var K=class e{drawerService=p(T);router=p(f);menuItems=[{name:"Inventario",icon:"fa-solid fa-warehouse",subMenus:[{name:"productos",link:"products",subMenus:[{name:"items",icon:"fa-solid fa-right-long",link:"products/items"},{name:"variantes",icon:"fa-solid fa-right-long",link:"products/variantes"},{name:"categor\xEDas",icon:"fa-solid fa-right-long",link:"products/categories"},{name:"subcategor\xEDas",icon:"fa-solid fa-right-long",link:"products/sub-categories"}]}]},{name:"Gesti\xF3n de cuenta",icon:"fa-solid fa-user",subMenus:[{name:"Gesti\xF3n de cuenta",link:"account"},{name:"Gesti\xF3n de usuarios",link:"users"}]}];screenSizeService=p(U);faChevronRight=Ce;faChevronDown=ge;logout(){localStorage.removeItem("auth_token"),this.router.navigate([""])}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=u({type:e,selectors:[["app-right-menu"]],decls:18,vars:28,consts:[[1,"h-full","z-70","transition-all","flex","items-start","shadow-xl","dark:shadow-zinc-300","overflow-hidden",3,"ngClass"],[1,"pl-2","pr-2","duration-200","text-md","fixed","overflow-hidden","bg-color",3,"ngClass"],[1,"flex","items-center","p-3","justify-between","duration-200",3,"ngClass"],["type","button",1,"cursor-pointer","fa-solid","fa-web-awesome","p-1",3,"click"],[1,"fa-solid","fa-xmark","cursor-pointer","sm:hidden!",3,"click","ngClass"],[1,"container-menu-right","flex","flex-col","h-[92%]","overflow-hidden","justify-between"],[1,"scrollbar-class","h-full","mb-1","overflow-y-auto","flex","flex-col","gap-1","items-center","justify-start"],[1,"submenu","w-full"],[1,"w-full","flex","flex-col","gap-1"],["pTooltip","Gesti\xF3n de cuenta",1,"flex","md:hidden","items-center","p-1","bg-color-button-right-menu",3,"ngClass"],[1,"p-2","fa-solid","fa-user"],[1,"p-2.5","cursor-pointer","truncate","overflow-hidden","whitespace-nowrap",3,"ngClass"],[1,"flex","items-center","p-1","bg-color-button-right-menu",3,"click","ngClass"],[1,"p-2","fa-solid","fa-right-from-bracket"],["type","button",1,"p-2.5","cursor-pointer","truncate","overflow-hidden","whitespace-nowrap",3,"ngClass"],["type","button",1,"flex","p-2","items-center","bg-module-menu",3,"ngClass"],[1,"truncate",3,"ngClass"],[1,"me-0","ms-auto","cursor-pointer","truncate","overflow-hidden","whitespace-nowrap",3,"icon","ngClass"],[1,"bg-slate-200","dark:bg-slate-500","text-sm","w-full",3,"id","ngClass"],[1,"bg-slate-300","dark:bg-slate-600","pb-1","mb-2"],[1,"bg-module-submenu-item",3,"routerLink","routerLinkActive"],["type","button",1,"flex","p-2","w-full","bg-module-submenu-item",3,"ngClass"],[1,"ms-auto",3,"icon"],[1,"hidden",3,"id"],[1,"bg-module-subsubmenu-item",3,"routerLink","routerLinkActive"],[3,"ngClass"]],template:function(t,i){t&1&&(o(0,"div",0)(1,"div",1)(2,"span",2)(3,"span",3),g("click",function(){return i.router.navigate(["/dashboard"])}),a(),o(4,"span",4),g("click",function(){return i.drawerService.close()}),a()(),o(5,"div",5)(6,"div",6),F(7,Pe,9,19,"div",7,M),a(),o(9,"div",8)(10,"button",9),l(11,"span",10),o(12,"span",11),d(13,"Gesti\xF3n de cuenta"),a()(),o(14,"button",12),g("click",function(){return i.logout()}),l(15,"span",13),o(16,"span",14),d(17,"Cerrar Sesi\xF3n"),a()()()()()()),t&2&&(s("ngClass",Q(10,Fe,!i.drawerService.visible(),i.drawerService.visible())),r(),ie("height",i.screenSizeService.screenHeight(),"px"),s("ngClass",Q(13,Ie,i.drawerService.visible(),!i.drawerService.visible())),r(),s("ngClass",m(16,ee,!i.drawerService.visible())),r(2),s("ngClass",m(18,ke,!i.drawerService.visible())),r(3),I(i.menuItems),r(3),s("ngClass",m(20,ee,!i.drawerService.visible())),r(2),s("ngClass",m(22,Y,!i.drawerService.visible())),r(2),s("ngClass",m(24,ee,!i.drawerService.visible())),r(2),s("ngClass",m(26,Y,!i.drawerService.visible())))},dependencies:[h,O,j,$,we,N,me],encapsulation:2})};function Oe(e,n){if(e&1&&(o(0,"div",3),l(1,"span",4),o(2,"a",5),d(3),x(4,"titlecase"),a()()),e&2){let t=b().$implicit;r(2),s("routerLink",t.url),r(),_(" ",w(4,2,t.label)," ")}}function je(e,n){if(e&1&&(l(0,"span",6),o(1,"a",7),d(2),x(3,"titlecase"),a()),e&2){let t=b().$implicit;r(),s("routerLink",t.url),r(),_(" ",w(3,2,t.label)," ")}}function Ae(e,n){if(e&1&&(o(0,"li",2),y(1,Oe,5,4,"div",3)(2,je,4,4),a()),e&2){let t=n.$index;r(),P(t===0?1:2)}}var X=class e{breadcrumb=[];router=p(f);activatedRoute=p(ce);routerSuscription=null;constructor(){this.routerSuscription=this.router.events.pipe(E(n=>n instanceof A)).subscribe(()=>{this.breadcrumb=[],this.createBreadcrumb(this.activatedRoute.root)})}ngOnDestroy(){this.routerSuscription&&this.routerSuscription.unsubscribe()}createBreadcrumb(n,t=""){let i=n.children;if(i.length!==0)for(let c of i){let v=c.snapshot.url.map(R=>R.path).join("/");if(v!==""){let R=`${t}/${v}`;this.breadcrumb.push({label:v,url:R}),this.createBreadcrumb(c,R)}}}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=u({type:e,selectors:[["app-bread-cumb"]],decls:4,vars:0,consts:[["aria-label","Breadcrumb",1,"flex"],[1,"inline-flex","items-center","space-x-1","md:space-x-2","rtl:space-x-reverse"],[1,"inline-flex","items-center"],[1,"bg-module-breadcrumb-item"],[1,"fa-solid","fa-house-chimney-crack","fa-fw","mr-1"],[3,"routerLink"],[1,"fa-solid","fa-chevron-right","mx-2"],[1,"bg-module-breadcrumb-item",3,"routerLink"]],template:function(t,i){t&1&&(o(0,"nav",0)(1,"ol",1),F(2,Ae,3,1,"li",2,M),a()()),t&2&&(r(2),I(i.breadcrumb))},dependencies:[N,h,j],encapsulation:2})};var W=class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=u({type:e,selectors:[["app-internal-loader"]],decls:11,vars:0,consts:[[1,"z-40","absolute","top-0","left-0","w-full","h-[calc(100vh-3rem)]","flex","items-center","justify-center","bg-white/15","backdrop-blur-xs"],[1,"loading-internal"],[1,"container"],[1,"dot","dot-1"],[1,"dot","dot-2"],[1,"dot","dot-3"],["version","1.1","xmlns","http://www.w3.org/2000/svg"],["id","goo"],["result","blur","stdDeviation","10","in","SourceGraphic"],["values","1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 21 -7","mode","matrix","in","blur"]],template:function(t,i){t&1&&(o(0,"div",0)(1,"div",1)(2,"div",2),l(3,"div",3)(4,"div",4)(5,"div",5),a(),ne(),o(6,"svg",6)(7,"defs")(8,"filter",7),l(9,"feGaussianBlur",8)(10,"feColorMatrix",9),a()()()()())},styles:[".container[_ngcontent-%COMP%]{width:200px;height:200px;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);margin:auto;filter:url(#goo);animation:_ngcontent-%COMP%_rotate-move 2s ease-in-out infinite}.dot[_ngcontent-%COMP%]{width:70px;height:70px;border-radius:50%;background-color:#000;position:absolute;inset:0;margin:auto}.dot-3[_ngcontent-%COMP%]{background-color:#4117ff;animation:_ngcontent-%COMP%_dot-3-move 2s ease infinite,_ngcontent-%COMP%_index 6s ease infinite}.dot-2[_ngcontent-%COMP%]{background-color:#fff;animation:_ngcontent-%COMP%_dot-2-move 2s ease infinite,_ngcontent-%COMP%_index 6s -4s ease infinite}.dot-1[_ngcontent-%COMP%]{background-color:#0b134c;animation:_ngcontent-%COMP%_dot-1-move 2s ease infinite,_ngcontent-%COMP%_index 6s -2s ease infinite}@keyframes _ngcontent-%COMP%_dot-3-move{20%{transform:scale(1)}45%{transform:translateY(-18px) scale(.45)}60%{transform:translateY(-90px) scale(.45)}80%{transform:translateY(-90px) scale(.45)}to{transform:translateY(0) scale(1)}}@keyframes _ngcontent-%COMP%_dot-2-move{20%{transform:scale(1)}45%{transform:translate(-16px,12px) scale(.45)}60%{transform:translate(-80px,60px) scale(.45)}80%{transform:translate(-80px,60px) scale(.45)}to{transform:translateY(0) scale(1)}}@keyframes _ngcontent-%COMP%_dot-1-move{20%{transform:scale(1)}45%{transform:translate(16px,12px) scale(.45)}60%{transform:translate(80px,60px) scale(.45)}80%{transform:translate(80px,60px) scale(.45)}to{transform:translateY(0) scale(1)}}@keyframes _ngcontent-%COMP%_rotate-move{55%{transform:translate(-50%,-50%) rotate(0)}80%{transform:translate(-50%,-50%) rotate(360deg)}to{transform:translate(-50%,-50%) rotate(360deg)}}@keyframes _ngcontent-%COMP%_index{0%,to{z-index:3}33.3%{z-index:2}66.6%{z-index:1}}"]})};function Ne(e,n){e&1&&l(0,"app-internal-loader")}var te=class e{router=p(f);refreshToken=p(H);routerSubscription;loaderService=p(z);ngOnInit(){this.refreshToken.checkToken(),this.routerSubscription=this.router.events.pipe(E(n=>n instanceof A)).subscribe(()=>{this.refreshToken.checkToken()})}ngOnDestroy(){this.routerSubscription&&this.routerSubscription.unsubscribe()}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=u({type:e,selectors:[["app-dashboard"]],decls:9,vars:1,consts:[[1,"flex","w-full","bg-color-general"],[1,"z-50"],[1,"w-full"],[1,"p-5","relative","h-[calc(100vh-3rem)]","overflow-y-auto"],[4,"ngIf"],[1,"mb-2"]],template:function(t,i){t&1&&(o(0,"div",0),l(1,"app-right-menu",1),o(2,"div",2),l(3,"app-top-menu"),o(4,"div",3),y(5,Ne,1,0,"app-internal-loader",4),o(6,"div",5),l(7,"app-bread-cumb"),a(),l(8,"router-outlet"),a()()()),t&2&&(r(5),s("ngIf",i.loaderService.loaderInternal()))},dependencies:[h,se,K,V,pe,X,W],encapsulation:2})};export{te as default};
